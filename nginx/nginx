
###################
# Install Nginx   #
###################
install_nginx() {
	sudo apt update -y
	sudo apt-get install nginx nginx-extras -y
    sudo systemctl enable nginx
	cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.backup-original
    echo ""
    echo "Nginx installed!..."
}

# nt() {
# #!/bin/bash
# # Check nginx configuration
# if nginx -t 2>&1 | grep -q "successful"; then
#     echo "Nginx configuration test successful. Reloading nginx..."
#     nginx -s reload
# else
#     echo "Nginx configuration test failed. Not reloading nginx."
# fi
# }

nt() {
    #!/bin/bash
    sudo nginx -t > /dev/null 2>&1
    # Check if the Nginx test failed
    if [ $? -ne 0 ]; then
        echo "Nginx test failed. Exiting script."
        exit 1
    fi
    echo "Nginx configuration test successful. Reloading nginx..."
    # If the test passed, reload Nginx
    sudo service nginx reload
    # Check if Nginx reload was successful
    if [ $? -eq 0 ]; then
        echo "Nginx service reloaded successfully."
    else
        echo "Nginx configuration test failed. Not reloading nginx."
    fi
}